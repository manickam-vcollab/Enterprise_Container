<!DOCTYPE html>
<html>
<head>
  <title>VCollab Enterprise</title>
  <style>
    #left {
        float: left;
        width: 20%;
        height: 100vh;
        overflow: scroll
    }

    #right {
        width: 100%;
        height: 100vh;
    }
  </style>
  <script>
  function onLoad(){
  let serverURL =  location.protocol + "//enterprise-backend.vcollab.com/api/1.0/"
  let jsonurl = serverURL + "samplesnew"
	fetch(jsonurl)
	.then((response) => response.json())
	.then((data) => {
		let domDiv = document.getElementById("left");
		if(domDiv && data)
		{		
			data.forEach( item => {
				var para = document.createElement("p");
				var aLink = document.createElement('a');
        aLink.href = item.url; 
				//aLink.href = item.url.replace("viewer.html?","viewer.html/?");
        // console.log(aLink.href);
				aLink.target = "renderer";
                var link = document.createTextNode(item.name); 
                aLink.appendChild(link);  
				
				para.appendChild(aLink);				
				domDiv.appendChild(para);		
			});		
		}
	 });
  }
  window.onload = onLoad;
  </script>
</head>

<body>
  <div id="left"></div>
  <div id="right">
    <iframe scrolling = "no" name="renderer" id="renderer" src="viewer.html?api=https%3A%2F%2Fenterprise-backend.vcollab.com%2Fapi%2F1.0%2Fmodel&url=file%3A%2F%2FC%3A%5Cserver%5Centerprise-1.1-win64%5Csamples%5Cbeam.cax" frameborder="0"" width="70%" height="650px" allowfullscreen> </iframe>
  </div>
</body>
</html>
